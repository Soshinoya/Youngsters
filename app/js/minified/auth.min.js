const setAuthContent=e=>{[document.querySelector(".login-form"),document.querySelector(".register-form")].forEach(e=>e?.remove());var t=document.importNode(document.getElementById("login-form").content,!0),r=document.importNode(document.getElementById("register-form").content,!0);if(window.matchMedia("(max-width: 768px)").matches){e&&document.querySelectorAll(".auth-tab--active").forEach(e=>e?.classList?.remove("auth-tab--active"));var o=e?e.target.closest(".auth-tab"):document.querySelector(".auth-tab--active"),e=(e&&o.classList.add("auth-tab--active"),o.getAttribute("data-tab-target")),n=document.querySelector(".auth-content");switch(e){case"login-form":n?.insertAdjacentElement("afterbegin",t.querySelector(".login-form"));break;case"register-form":n?.insertAdjacentElement("afterbegin",r.querySelector(".register-form"))}}else{o=document.querySelector(".login__title"),e=document.querySelector(".register__title");o.insertAdjacentElement("afterend",t.querySelector(".login-form")),e.insertAdjacentElement("afterend",r.querySelector(".register-form"))}},tabs=(window.addEventListener("resize",()=>setAuthContent()),document.querySelectorAll(".auth-tab")),loginUser=(tabs.forEach(e=>e.addEventListener("click",setAuthContent)),setAuthContent(),()=>console.log("Вход...")),registerUser=()=>console.log("Регистрация..."),forgotPassword=()=>{var e=document.querySelector('[name="forgot-password-email"]'),t=e.closest(".input__wrapper"),r=e.value,o=document.querySelector(".modal-forgot-password-content__text");""!==r.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?(t.classList.add("input__wrapper--done"),o.textContent="На ваш электронный адрес направлена ссылка для восстановления пароля"):(e.classList.add("input--error","input--active"),e.value="Обязательное поле")};if(window.matchMedia("(max-width: 768px)").matches)document.addEventListener("click",e=>{e=e.target.closest('[type="submit"]');if(e)switch(e.closest("form").getAttribute("name")){case"login-form":loginUser();break;case"register-form":registerUser();break;case"forgot-password-form":forgotPassword()}});else{const u=document.getElementById("login-submit"),v=document.getElementById("register-submit"),w=document.getElementById("forgot-password-btn");u.addEventListener("click",e=>{e.preventDefault(),loginUser()}),v.addEventListener("click",e=>{e.preventDefault(),registerUser()}),w.addEventListener("click",e=>{e.preventDefault(),forgotPassword()})}