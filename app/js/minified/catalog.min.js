const resultPriceFormatter=new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0});$("#range-slider--filter-price").ionRangeSlider({min:1e4,max:5e5,step:1e4,from:5e4,onStart:e=>{$("#filter-price--from").text(resultPriceFormatter.format(e.from)),$("#filter-price--to").text(resultPriceFormatter.format(e.to))},onChange:e=>$("#filter-price--to").text(resultPriceFormatter.format(e.from))});let allProducts=70,renderedProducts=0,stepRenderProducts,catalogItemsBannersCount=0,nextElems=window.matchMedia("(min-width: 1025px)").matches?4:window.matchMedia("(min-width: 769px)").matches?2:1,currentElems=window.matchMedia("(min-width: 1025px)").matches?4:window.matchMedia("(min-width: 769px)").matches?2:1;const CLASS_CATALOG_ITEMS_HOLDER="catalog__items-holder",CLASS_CATALOG_ITEMS_HOLDER_STROKE="catalog__items-holder--stroke",CLASS_CATALOG_ITEMS_HOLDER_SQUARE="catalog__items-holder--square",CLASS_CATALOG_ITEMS_BANNER="catalog__items-banner",singleProductData=(stepRenderProducts=window.matchMedia("(max-width: 768px)").matches?12:window.matchMedia("(max-width: 1024px)").matches?14:16,{imgSrc:"./images/content/products/mas-ring.png",imgAlt:"Кольцо",title:"Кольцо YOUNGSTERS",price:"35 000,00",href:"/catalog.html",isFavorite:!1,type:"ring",isPlaque:!0,plaqueTopText:"Бестселлер",plaqueBottomText:"-10%"}),renderProduct=e=>{const n=document.querySelector(".catalog__items");var t=n.lastElementChild,l=n.querySelectorAll("."+CLASS_CATALOG_ITEMS_HOLDER_SQUARE),r=n.querySelectorAll("."+CLASS_CATALOG_ITEMS_HOLDER_STROKE),d=n.querySelectorAll("."+CLASS_CATALOG_ITEMS_HOLDER),s=(e,t)=>{var l=document.createElement("div");l.classList.add(CLASS_CATALOG_ITEMS_HOLDER,t),l.insertAdjacentHTML("beforeend",e),n.appendChild(l)},a=()=>{var e=document.createElement("div"),t=document.createElement("img");e.appendChild(t),e.classList.add("catalog__items-banner"),t.src=`./images/content/banners/catalog/${catalogItemsBannersCount%2==0?1:2}.jpg`,t.alt="Мужчина позирует в украшениях Youngsters",n.appendChild(e),catalogItemsBannersCount++},t=(window.matchMedia("(min-width: 769px)").matches&&(t?window.matchMedia("(min-width: 1025px)").matches?(0<l.length&&l.length%2==0&&4===l[l.length-1].childElementCount&&d[d.length-1].classList.contains("catalog__items-holder--square")||0<r.length&&r.length%4==0&&2===r[r.length-1].childElementCount&&d[d.length-1].classList.contains("catalog__items-holder--stroke"))&&a():(0<l.length&&l.length%4==0&&2===l[l.length-1].childElementCount&&d[d.length-1].classList.contains("catalog__items-holder--square")||0<r.length&&r.length%6==0&&1===r[r.length-1].childElementCount&&d[d.length-1].classList.contains("catalog__items-holder--stroke"))&&a():a()),HTMLTemplates.getProductCardTemplate(e));if(window.matchMedia("(min-width: 1025px)").matches)2!==nextElems&&(2!==currentElems||1!==n.lastElementChild.childElementCount)||n.lastElementChild.classList.contains(CLASS_CATALOG_ITEMS_BANNER)&&n.children[n.children.length-2].classList.contains(CLASS_CATALOG_ITEMS_HOLDER_STROKE)?4===nextElems&&(currentElems=(n.lastElementChild.classList.contains(CLASS_CATALOG_ITEMS_HOLDER_SQUARE)?n.lastElementChild.insertAdjacentHTML("beforeend",t):s(t,CLASS_CATALOG_ITEMS_HOLDER_SQUARE),4),renderedProducts++,4===n.lastElementChild.childElementCount)&&(nextElems=2):4===n.lastElementChild.childElementCount||n.lastElementChild.classList.contains(CLASS_CATALOG_ITEMS_BANNER)?(s(t,CLASS_CATALOG_ITEMS_HOLDER_STROKE),currentElems=2,renderedProducts++):1===n.lastElementChild.childElementCount?(n.lastElementChild.insertAdjacentHTML("beforeend",t),currentElems=2,renderedProducts++):2===n.lastElementChild.childElementCount&&(s(t,CLASS_CATALOG_ITEMS_HOLDER_STROKE),nextElems=4,currentElems=2,renderedProducts++);else if(window.matchMedia("(min-width: 769px)").matches){if(1===nextElems||1===currentElems){if(!n.children[n.children.length-3].classList.contains(CLASS_CATALOG_ITEMS_HOLDER_STROKE))return void(2!==n.lastElementChild.childElementCount&&1!==n.lastElementChild.childElementCount&&!n.lastElementChild.classList.contains(CLASS_CATALOG_ITEMS_BANNER)||(s(t,CLASS_CATALOG_ITEMS_HOLDER_STROKE),currentElems=1,renderedProducts++));nextElems=2,currentElems=1}2===nextElems&&(currentElems=(n.lastElementChild.classList.contains(CLASS_CATALOG_ITEMS_HOLDER_SQUARE)&&1===n.lastElementChild.childElementCount?n.lastElementChild.insertAdjacentHTML("beforeend",t):s(t,CLASS_CATALOG_ITEMS_HOLDER_SQUARE),2),renderedProducts++,2===n.lastElementChild.childElementCount)&&n.children[n.children.length-2].classList.contains(CLASS_CATALOG_ITEMS_HOLDER_SQUARE)&&(nextElems=1)}else n.insertAdjacentHTML("beforeend",t),renderedProducts++},loadMore=document.querySelector(".load-more"),setLoadMoreData=()=>{document.querySelector(".load-more .menu-item-dropdown").classList.remove("menu-item-dropdown--active"),loadMore.querySelector(".load-more__smalltext").textContent=`Показано ${renderedProducts} из ${allProducts} изделий`,loadMore.querySelector(".load-more__loaded").style.width=100*renderedProducts/allProducts+"%"},renderProducts=()=>{var t=stepRenderProducts+renderedProducts>allProducts?allProducts-renderedProducts:stepRenderProducts;for(let e=0;e<t;e++)renderProduct(singleProductData);renderedProducts>=allProducts?loadMore.classList.add("d-none"):setLoadMoreData()};loadMore.addEventListener("click",renderProducts),document.addEventListener("click",()=>{document.querySelector(".load-more .menu-item-dropdown").classList.remove("menu-item-dropdown--active")}),renderProducts();